<%

def sidebar_link_to(path, icon, text)
	active = 'dark:bg-gray-800 dark:text-gray-50' if current_page?(path)
	tag.li class: "px-2 w-full overflow-hidden h-12 flex items-center #{active} sm:px-0" do
		link_to(path, class: 'flex items-center sm:px-5 space-x-3 rounded-md') do
		concat tag.span icon
		concat tag.span " #{text}", class: 'inline-block sm:hidden lg:inline-block'
		end
	end
end

%>

<div data-controller="sidebar" class="dark:bg-gray-900 dark:text-gray-100">
	<div class="flex pl-2 sticky top-0 sm:pt-3 sm:px-0 sm:flex-col sm:h-full sm:w-16 lg:w-60" >
		<div class="inline-block text-2xl h-12 sm:hidden">
			<button data-action="click->sidebar#toggle">...</button>
		</div>

		<div class="flex space-x-4 items-center ml-2 sm:ml-0 sm:py-2 sm:px-5">
				<h2 class="text-lg font-semibold"><span>H</span><span class="inline-block sm:hidden lg:inline-block">ayate</span></h2>
		</div>

		<div class="divide-y dark:divide-gray-700 hidden sm:inline-block">
			<ul class="flex text-sm space-y-1 flex-col px-2">
				<%= sidebar_link_to root_path, "ğŸ–¥ï¸", "Dashboard" %>
				<%= sidebar_link_to future_log_path, "ğŸ“…", "Logs" %>
				<%= sidebar_link_to tasks_path, "âœ…", "Tasks"%>
				<%= sidebar_link_to words_path, "ğŸ”¤", "Words" %>
				<%= sidebar_link_to books_path, "ğŸ“š", "Books" %>
				<%= sidebar_link_to daily_task_sets_path, "ğŸ’ª", "Daily Task" %>
				<%= sidebar_link_to entries_path, "ğŸŒ", "RSS" %>
				<%= sidebar_link_to links_path, "ğŸ”—", "Links" %>
				<%= sidebar_link_to review_tool_path, "ğŸ“", "Review Tool" %>
				<%= sidebar_link_to authorization_tokens_path, "ğŸ”", "Authorization Tokens" %>
			</ul>
		</div>

		<div class="flex items-center ml-auto mr-2 sm:ml-0 sm:p-2 sm:mt-auto">
			<%= link_to 'Sign Out', signout_path, data: { "turbo-method": :delete } %>
		</div>
	</div>

	<div
		class="divide-y z-10 hidden sm:hidden relative"
		data-sidebar-target="links"
	>
		<div class="dark:bg-gray-900 dark:text-gray-100 absolute top-0 left-0">
			<ul class="flex text-sm space-y-1 flex-col px-2">
				<%= sidebar_link_to root_path, "ğŸ–¥ï¸", "Dashboard" %>
				<%= sidebar_link_to future_log_path, "ğŸ“…", "Logs" %>
				<%= sidebar_link_to tasks_path, "âœ…", "Tasks"%>
				<%= sidebar_link_to words_path, "ğŸ”¤", "Words" %>
				<%= sidebar_link_to books_path, "ğŸ“š", "Books" %>
				<%= sidebar_link_to daily_task_sets_path, "ğŸ’ª", "Daily Task" %>
				<%= sidebar_link_to entries_path, "ğŸŒ", "RSS" %>
				<%= sidebar_link_to links_path, "ğŸ”—", "Links" %>
				<%= sidebar_link_to review_tool_path, "ğŸ“", "Review Tool" %>
				<%= sidebar_link_to authorization_tokens_path, "ğŸ”", "Authorization Tokens" %>
			</ul>
		</div>
	</div>
</div> <!-- data-controller="sidebar" -->
