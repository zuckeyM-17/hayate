<% content_for(:page_title) { 'Books' } %>

<%= render 'shared/breadcrumb' %>
<div class="p-4">
  <div class="pt-4">
    <%= render 'shared/header', title: 'Books' %>
    <div class="pt-4">
      <%= link_to "New",
              new_book_path,
              class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>

      <div class="pt-4">
        <%= paginate @unread_books %>
        <table class="border border-slate-500 table-auto">
          <thead>
            <tr>
              <th class="border border-slate-600 px-2 py-1">Title</th>
              <th class="border border-slate-600 px-2 py-1">Category</th>
            </tr>
          </thead>
          <tbody>
            <% @unread_books.each do |b| %>
              <tr>
                <td class="border border-slate-600 px-2 py-1 underline">
                  <% if b.in_progress? %>
                    <span class="px-2">ðŸ“–</span>
                  <% end %>
                  <%= link_to b.title, book_path(b.id) %>
                </td>
                <td class="border border-slate-600 px-2 py-1"><%= book_category(b.category) %></td>
              </tr>
            <% end%>
          </tbody>
        </table>
      </div>

      <%= render 'shared/header', title: 'Finished' %>
      <div class="pt-4">
        <%= paginate @finished_books %>
        <table class="border border-slate-500 table-auto">
          <thead>
            <tr>
              <th class="border border-slate-600 px-2 py-1">Title</th>
              <th class="border border-slate-600 px-2 py-1">Category</th>
            </tr>
          </thead>
          <tbody>
            <% @finished_books.each do |b| %>
              <tr>
                <td class="border border-slate-600 px-2 py-1 underline">
                  <%= link_to b.title, book_path(b.id) %>
                </td>
                <td class="border border-slate-600 px-2 py-1"><%= book_category(b.category) %></td>
              </tr>
            <% end%>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>